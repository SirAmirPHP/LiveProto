# ربات مانیتورینگ گیفت‌های تلگرام

این پروژه با استفاده از کتابخانه `liveproto` برای مانیتورینگ و ارسال خودکار اطلاعات گیفت‌های جدید تلگرام طراحی شده است.

## ویژگی‌ها

- 🔍 **مانیتورینگ خودکار**: چک کردن مداوم گیفت‌های جدید
- 📢 **ارسال فوری**: ارسال سریع اطلاعات به کانال‌های تعیین شده
- ⚙️ **قابل تنظیم**: امکان تغییر فاصله زمانی چک کردن
- 🎯 **چند کاناله**: پشتیبانی از چندین کانال هدف
- 📱 **مدیریت از طریق پیام**: دستورات مدیریتی از طریق پیام خصوصی
- 💾 **ذخیره تاریخچه**: جلوگیری از ارسال مجدد گیفت‌های قبلی

## نصب و راه‌اندازی

### پیش‌نیازها

- PHP 8.2 یا بالاتر
- Extension های مورد نیاز: openssl, gmp, json, xml, dom, filter, hash, zlib, fileinfo
- دسترسی به API تلگرام

### مراحل نصب

1. **کلون کردن پروژه:**
```bash
git clone <repository-url>
cd telegram-gift-monitor
```

2. **نصب وابستگی‌ها:**
```bash
composer install
```

3. **دریافت API اطلاعات:**
   - به [my.telegram.org](https://my.telegram.org) بروید
   - وارد حساب کاربری خود شوید
   - به بخش "API development tools" بروید
   - یک اپلیکیشن جدید ایجاد کنید
   - `api_id` و `api_hash` را کپی کنید

4. **تنظیم کانفیگ:**
   - فایل `gift_config.json` را ویرایش کنید
   - `api_id` و `api_hash` خود را وارد کنید
   - کانال‌های هدف را اضافه کنید

5. **اجرای برنامه:**
```bash
php telegram_gift_monitor.php
```

## تنظیمات

### فایل کانفیگ (gift_config.json)

```json
{
    "api_id": "YOUR_API_ID",
    "api_hash": "YOUR_API_HASH",
    "channels": [
        "@your_channel_username",
        "@another_channel"
    ],
    "check_interval": 30,
    "device_model": "PC 64bit",
    "system_version": "4.14.186",
    "app_version": "1.28.5"
}
```

### پارامترهای کانفیگ

- `api_id`: شناسه API تلگرام
- `api_hash`: کلید API تلگرام
- `channels`: آرایه کانال‌های هدف
- `check_interval`: فاصله زمانی چک کردن (ثانیه)
- `device_model`: مدل دستگاه
- `system_version`: نسخه سیستم عامل
- `app_version`: نسخه اپلیکیشن

## دستورات مدیریتی

از طریق پیام خصوصی به ربات می‌توانید دستورات زیر را ارسال کنید:

- `/start` - نمایش راهنما
- `/status` - نمایش وضعیت سیستم
- `/add_channel @channel` - اضافه کردن کانال جدید
- `/remove_channel @channel` - حذف کانال
- `/list_channels` - نمایش لیست کانال‌ها

## نمونه خروجی

```
🎁 گیفت جدید در تلگرام!

📝 عنوان: Gift Premium
🆔 شناسه گیفت: 12345
⭐ قیمت (ستاره): 100
💎 نیاز به پریمیوم: بله
🔄 قابل ارتقا: خیر
🏷️ محدود: بله
🛒 تمام شده: خیر

⏰ زمان: 2024/01/15 14:30:25
```

## عیب‌یابی

### مشکلات رایج

1. **خطای اتصال:**
   - بررسی کنید که `api_id` و `api_hash` صحیح باشند
   - اتصال اینترنت خود را چک کنید

2. **خطای ارسال پیام:**
   - مطمئن شوید ربات به کانال دسترسی دارد
   - نام کانال را صحیح وارد کنید

3. **خطای مجوز:**
   - ربات باید عضو کانال باشد
   - ربات باید مجوز ارسال پیام داشته باشد

### لاگ‌ها

برنامه لاگ‌های مفیدی در کنسول نمایش می‌دهد:

```
🚀 شروع مانیتورینگ گیفت‌های تلگرام...
📋 بارگذاری اولیه گیفت‌ها انجام شد
✅ اعلان گیفت به کانال @your_channel ارسال شد
```

## امنیت

- هرگز `api_id` و `api_hash` را در کد عمومی قرار ندهید
- فایل `gift_config.json` را در `.gitignore` قرار دهید
- از حساب کاربری جداگانه برای ربات استفاده کنید

## پشتیبانی

برای گزارش باگ یا درخواست ویژگی جدید، لطفاً issue ایجاد کنید.

## لایسنس

MIT License

---

**نکته:** این پروژه برای اهداف آموزشی و شخصی طراحی شده است. لطفاً از قوانین تلگرام پیروی کنید.